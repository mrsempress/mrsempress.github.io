<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="多校," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="嚯嚯嚯，练功恢复功力呀！ 西安居然比杭州还热呢！">
<meta name="keywords" content="多校">
<meta property="og:type" content="article">
<meta property="og:title" content="2018 Multi-University Training hdu">
<meta property="og:url" content="http://empress.top/2018/08/07/2018-Multi-University-Training-hdu/index.html">
<meta property="og:site_name" content="Mrs_empress">
<meta property="og:description" content="嚯嚯嚯，练功恢复功力呀！ 西安居然比杭州还热呢！">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B.png">
<meta property="og:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B-2.jpg">
<meta property="og:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B-3.jpg">
<meta property="og:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-K.png">
<meta property="og:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-L.png">
<meta property="og:updated_time" content="2018-08-12T02:14:50.691Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2018 Multi-University Training hdu">
<meta name="twitter:description" content="嚯嚯嚯，练功恢复功力呀！ 西安居然比杭州还热呢！">
<meta name="twitter:image" content="http://empress.top/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://empress.top/2018/08/07/2018-Multi-University-Training-hdu/"/>





  <title>2018 Multi-University Training hdu | Mrs_empress</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0b0957531a34243a173c768258ed03c4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Mrs_empress</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Your bright sun</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-poem">
          <a href="/poem" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            poem
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://empress.top/2018/08/07/2018-Multi-University-Training-hdu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mrs_empress">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mrs_empress">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">2018 Multi-University Training hdu</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-07T15:34:21+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index">
                    <span itemprop="name">ACM</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/2018/" itemprop="url" rel="index">
                    <span itemprop="name">2018</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/08/07/2018-Multi-University-Training-hdu/" class="leancloud_visitors" data-flag-title="2018 Multi-University Training hdu">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>嚯嚯嚯，练功恢复功力呀！</p>
<p>西安居然比杭州还热呢！</p>
<a id="more"></a>
<p>就不废话啦！因为要抓紧补题（唔，小葡萄还是挺好看的呢！）</p>
<h1 id="2018-Multi-University-Training-hdu"><a href="#2018-Multi-University-Training-hdu" class="headerlink" title="2018 Multi-University Training hdu"></a>2018 Multi-University Training hdu</h1><h2 id="Contest-1"><a href="#Contest-1" class="headerlink" title="Contest 1"></a>Contest 1</h2><p>补题：4.5题</p>
<h3 id="A-Maximum-Multiple"><a href="#A-Maximum-Multiple" class="headerlink" title="A. Maximum Multiple"></a>A. Maximum Multiple</h3><p>找规律</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">        <span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">0</span>)&#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,<span class="number">1L</span>L*(n/<span class="number">3</span>)*(n/<span class="number">3</span>)*(n/<span class="number">3</span>));</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">4</span>==<span class="number">0</span>)&#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,<span class="number">1L</span>L*(n/<span class="number">4</span>)*(n/<span class="number">4</span>)*(n/<span class="number">2</span>));</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="B"><a href="#B" class="headerlink" title="B."></a>B.</h3><p>直播说先考虑没有重排的情况，找最长符合规则的括号长度</p>
<p>这个通过栈的方式，加入之前看与栈顶是否匹配，中间的过程我们可以得到括号序列</p>
<p>剩下的栈里面是a个)和b个(</p>
<p>然后考虑使之最长</p>
<p>一开始放的肯定放的是左括号，且前短后长</p>
<p><code>(((()(()))))</code></p>
<p>感觉之后这题还可以补的，先放着，有点小累</p>
<p><code>偷偷说一声，这主播的声音好好听呐！</code></p>
<h3 id="C-Triangle-Partition"><a href="#C-Triangle-Partition" class="headerlink" title="C.Triangle Partition"></a>C.Triangle Partition</h3><p>水题</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ty</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> x,y,no;</div><div class="line">&#125;Node[<span class="number">3005</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ty a,ty b)</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> a.x&lt;b.x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>*n;i++)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;Node[i].x,&amp;Node[i].y);</div><div class="line">            Node[i].no=i+<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        sort(Node,Node+<span class="number">3</span>*n,cmp);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>*n;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(i%<span class="number">3</span>==<span class="number">2</span>)&#123;</div><div class="line">                <span class="built_in">cout</span>&lt;&lt;Node[i].no&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="built_in">cout</span>&lt;&lt;Node[i].no&lt;&lt;<span class="string">" "</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="D-Distinct-Values"><a href="#D-Distinct-Values" class="headerlink" title="D. Distinct Values"></a>D. Distinct Values</h3><p>转换为求Mex(l,r) ，即求的是[l,r]区间内所有数的集合里没有出现过的最小的数字</p>
<p>网上对此求Mex有三种解法：</p>
<ul>
<li>莫队 </li>
</ul>
<blockquote>
<p>假设cnt[]已经记录了[l , r]中每种数字出现的次数，mex已经记录了[l , r]的mex值。 </p>
<ul>
<li><p>得到[l+1 ,r]或[l , r-1]的mex值。</p>
<p>对于[l+1 , r]，如果A_l在[l+1 , r]出现过，那么mex不变。</p>
<p>反之，mex变为mex 与Ai 的较小值。</p>
</li>
<li><p>得到[l-1 ,r]或[l , r+1]的mex值。</p>
<p>对于[l-1 , r]，如果A_(l-1) 在[l , r]出现过，那么mex不变。</p>
<p>反之，暴力枚举比mex大的数，更新mex。[l , r+1]同理。 </p>
</li>
</ul>
</blockquote>
<p><code>345</code>,mex为1，如果新加的数是2，那么mex应该不会变</p>
<p>莫队还要再研究一下，到时候写一些题目，大概感觉一下</p>
<p>毕竟线段树不会写了！</p>
<ul>
<li><p>线段树</p>
<blockquote>
<p>提前计算 Mi = mex(1, i) , 1&lt;=i&lt;=n .</p>
<p>通过 mex(l, r) 可以得到 mex(l+1, r)  </p>
<p>从被执行 mex 操作的 A[l, r] 中删去一个 A[l] 对整体的影响  </p>
<p>先算一下与 A[l] 相等的数在序列中的位置，记为 next[l]  （如果没有这样的数则 next[l] = n+1）  </p>
<p>受影响的区间是 M[l+1, next[l]-1] </p>
<p>对于其中任意一个下标 t  </p>
<p>M[t] &lt; A[l] ,M[t]并不受影响  </p>
<p>M[t] &gt; A[l] ,M[t]变为A[l]  </p>
<p>M[t] = A[l] ,显然不可能呀  </p>
<p>即M[t] = min(M[t], A[l]) </p>
</blockquote>
</li>
<li><p>dp</p>
</li>
</ul>
<p>对于此题代码：</p>
<ul>
<li><p>类似于莫队的算法</p>
<p>先对区间排序，应该是每一种算法必要的</p>
<p>先将所有的数字放入，然后对于这个区间从set中拿数字（注意，set本质是红黑树，所以从头取出的数字就是最小的，然后将此元素剔除）；对于一个区间完成后，在进行下一区间的时候，先将不属于此区间，但是在上一区间的数放回到set中</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ty</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> l,r;</div><div class="line">&#125;Node[maxn];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ty a,ty b)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(a.l==b.l)</div><div class="line">        <span class="keyword">return</span> a.r&gt;b.r;</div><div class="line">    <span class="keyword">return</span> a.l&lt;b.l;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> a[maxn],n,m;</div><div class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;s;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</div><div class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;Node[i].l,&amp;Node[i].r);</div><div class="line">        sort(Node+<span class="number">1</span>, Node+<span class="number">1</span>+m, cmp);</div><div class="line">        s.clear();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">            s.insert(i);</div><div class="line">        <span class="keyword">int</span> l=<span class="number">1</span>,r=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</div><div class="line">            <span class="keyword">while</span>(l&lt;Node[i].l)&#123;</div><div class="line">                <span class="keyword">if</span>(a[l]!=<span class="number">0</span>)</div><div class="line">                    s.insert(a[l]);</div><div class="line">                <span class="keyword">else</span> a[l]=<span class="number">1</span>;</div><div class="line">                l++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span>(r&lt;Node[i].r)&#123;</div><div class="line">                r++;</div><div class="line">                <span class="keyword">if</span>(!a[r])&#123;</div><div class="line">                    a[r]=*s.begin();</div><div class="line">                    s.erase(a[r]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(r&lt;n) a[++r]=<span class="number">1</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,a[<span class="number">1</span>]);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,a[i]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p>优先队列</p>
<p>其实本质上来说是类似的，只不过存储的数据结构不同而已，下面代码是从网上找到的，据说优先队列比set的代码要快！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> a[<span class="number">100005</span>];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line">    <span class="keyword">int</span> date;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node &amp;aa)<span class="keyword">const</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> date&gt;aa.date;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">priority_queue&lt;node&gt;q;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">line</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line">    <span class="keyword">int</span> u,to;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> line &amp;aa)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(u!=aa.u)</div><div class="line">            <span class="keyword">return</span> u&lt;aa.u;</div><div class="line">        <span class="keyword">return</span> to&lt;aa.to;</div><div class="line">    &#125;</div><div class="line">&#125;v[<span class="number">200005</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> t,i,j,str,n,m,l;</div><div class="line">    node now;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    <span class="keyword">while</span>(t--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span>(!q.empty())</div><div class="line">        &#123;</div><div class="line">            q.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</div><div class="line">        str=<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;v[i].u,&amp;v[i].to);</div><div class="line">        <span class="keyword">for</span>(j=i,i=<span class="number">1</span>;i&lt;=n;i++,j++)</div><div class="line">            v[j].u=v[j].to=i;</div><div class="line">        m=j;</div><div class="line">        sort(v,v+m);</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>,j=<span class="number">0</span>,l=<span class="number">0</span>;i&lt;m&amp;&amp;j&lt;n;i++)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// printf("aaaa %d %d\n",l,v[i].u);</span></div><div class="line">            <span class="keyword">while</span>(l&lt;v[i].u<span class="number">-1</span>)</div><div class="line">            &#123;</div><div class="line">                now.date=a[l];</div><div class="line">                q.push(now);</div><div class="line">                l++;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span>(j&lt;v[i].to)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span>(q.empty())</div><div class="line">                &#123;</div><div class="line">                    <span class="comment">//printf("ssss  %d %d\n",j,str);</span></div><div class="line">                    a[j++]=str;</div><div class="line">                    str++;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                &#123;</div><div class="line">                    <span class="comment">//printf("ok  %d %d\n",j,str);</span></div><div class="line">                    now=q.top();</div><div class="line">                    a[j++]=now.date;</div><div class="line">                    q.pop();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,a[<span class="number">0</span>]);</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,a[i]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="G-Chiaki-Sequence-Revisited"><a href="#G-Chiaki-Sequence-Revisited" class="headerlink" title="G.Chiaki Sequence Revisited"></a>G.Chiaki Sequence Revisited</h3><p>打表代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    v.push_back(<span class="number">-1</span>);</div><div class="line">    v.push_back(<span class="number">1</span>);</div><div class="line">    v.push_back(<span class="number">1</span>);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"1: 1"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"2: 1"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">20</span>;i++)&#123;</div><div class="line"><span class="comment">//        cout&lt;&lt;"     "&lt;&lt;v[i-1]&lt;&lt;" "&lt;&lt;i-v[i-1]&lt;&lt;" "&lt;&lt;v[i-v[i-1]]&lt;&lt;endl;</span></div><div class="line"><span class="comment">//        cout&lt;&lt;"     "&lt;&lt;v[i-2]&lt;&lt;" "&lt;&lt;i-1-v[i-2]&lt;&lt;" "&lt;&lt;v[i-1-v[i-2]]&lt;&lt;endl;</span></div><div class="line"><span class="comment">//        cout&lt;&lt;i&lt;&lt;": "&lt;&lt;i-v[i-1]&lt;&lt;" + "&lt;&lt;i-1-v[i-2]&lt;&lt;endl;</span></div><div class="line">        v.push_back(v[i-v[i<span class="number">-1</span>]]+v[i<span class="number">-1</span>-v[i<span class="number">-2</span>]]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;i++)&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">" "</span>&lt;&lt;v[i]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>出现的次数倒是挺有规律的</p>
<p>然后，不想想了，百度（嘿嘿！</p>
<blockquote>
<p>除去1</p>
<p>出现1次的：3，5，7，9，11，13…… 公差为2的等差数列</p>
<p>出现2次的：2 ，6，10，14，18…….   公差为4的等差数列</p>
<p>出现3次的：4，12，20，28，36……  公差为8的等差数列</p>
<p>出现4次的：8 ，24，40，56，72…..  公差为16的等差数列</p>
</blockquote>
<p>可得出x出现的次数为2进制形式最后一个1在从右往左数第几位（偷偷嘟囔一句，可怕！</p>
<p>不不不，数学很牛！</p>
<p>所以x出现的次数是<code>1+log2lowbit(x)</code>次</p>
<p><code>lowbit(i) = max{k+1| 2^k|i}</code></p>
<p><code>__builtin_ctz(i)+1</code>    该函数判断n的二进制末尾后面0的个数，当n为0时，和n的类型有关</p>
<p><code>__builtin_ffs(n)</code>该函数判断n的二进制末尾最后一个1的位置，从一开始</p>
<p><code>__builtin_popcount(n)</code>该函数时判断n的二进制中有多少个1</p>
<p><code>__builtin_parity(n)</code>    该函数是判断n的二进制中1的个数的奇偶性，奇数个输出1</p>
<p>据说可以推导前缀和，我就不想推了，emmm……</p>
<p>然而官方题解，让我觉得我看的不是同一道题</p>
<blockquote>
<p>考虑这个数列的差分数列，除了个别项，本质就是：1,1,0,1,1,0,0,1,1,0,1,1,0,0,0,1,1,0,…。</p>
<p>可以观测到，这个序列可以这么生成：一开始只有一个1，1变成110，0保持不变。迭代无穷多次后就是这个差分序列。</p>
<p>知道差分序列，可以应用阿贝尔变换，把aa的前缀和搞成差分序列相关。不妨令差分序列是da，那么a的前缀和</p>
<p>$\displaystyle s(n)=(n-1)\sum^{n-2}<em>{i=0}da(i)-\sum^{n-2}</em>{i=0}da(i)i+1$</p>
</blockquote>
<p>都是网上的代码！（看起来短的应该都很厉害吧！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">105</span>;</div><div class="line">ll a[N], f[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> t;</div><div class="line">    ll pos, ans, n, m, num, now;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</div><div class="line">    a[<span class="number">0</span>] = f[<span class="number">0</span>] = <span class="number">1</span>;<span class="comment">///a[i]对应f[i],idx-&gt;val</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">62</span>; i++)&#123;<span class="comment">///ll -&gt; 2^64</span></div><div class="line">        a[i] = a[i<span class="number">-1</span>]*<span class="number">2</span>+<span class="number">1</span>;</div><div class="line">        f[i] = f[i<span class="number">-1</span>]*<span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">    ll inv = (mod+<span class="number">1</span>)/<span class="number">2</span>;<span class="comment">///2的逆元</span></div><div class="line">    <span class="keyword">while</span>(t --)&#123;</div><div class="line">        pos = ans = num = <span class="number">0</span>;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;n);</div><div class="line">        m = n;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">62</span>; i&gt;=<span class="number">0</span>; i--)&#123;</div><div class="line">            <span class="keyword">if</span>(m-a[i] &gt;= <span class="number">0</span>)&#123;</div><div class="line">                m -= a[i];</div><div class="line">                pos += (<span class="number">1l</span>l&lt;&lt;i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        pos += (m&gt;<span class="number">0</span>);<span class="comment">///当前这位数字是多少</span></div><div class="line">        now = pos<span class="number">-1</span>;<span class="comment">///对当前数值之前的数处理,例pos=8,处理1~now这些数的和</span></div><div class="line">        ll s, step, e, sum;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; f[i<span class="number">-1</span>]&lt;=now; i++)&#123;</div><div class="line">            s = f[i<span class="number">-1</span>];</div><div class="line">            step = (now-s)/f[i]+<span class="number">1</span>;<span class="comment">///项数</span></div><div class="line">            e = (step<span class="number">-1</span>)*f[i]+s;<span class="comment">///f[i]公差</span></div><div class="line">            sum = (s+e)%mod*(step%mod)%mod*inv%mod;<span class="comment">///(start+end)*step/2</span></div><div class="line">            ans = (ans+sum*i%mod)%mod;<span class="comment">///i这些数出现了几次</span></div><div class="line">            num += step*i;<span class="comment">///算了多少个数</span></div><div class="line">        &#125;</div><div class="line">        ans = (ans+<span class="number">1</span>+(n-num<span class="number">-1</span>)%mod*(pos%mod)%mod)%mod;<span class="comment">///加上第一个数和其余未加的数</span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">[HDU6304][数学] </span></div><div class="line"><span class="comment">Chiaki Sequence Revisited</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>+<span class="number">7</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> inv2 = <span class="number">500000004</span>;</div><div class="line"><span class="keyword">int</span> T;</div><div class="line">LL n;</div><div class="line"><span class="function">LL <span class="title">calc</span><span class="params">(LL n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">1</span>) <span class="keyword">return</span> n;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> calc(n/<span class="number">2</span>)+n;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">    LL l=n/<span class="number">2</span><span class="number">-30</span>,r=n/<span class="number">2</span>+<span class="number">30</span>,m,p=<span class="number">-1</span>;</div><div class="line">    <span class="comment">//需要预先估计上下界减少二分次数,否则会TLE.</span></div><div class="line">    <span class="keyword">while</span>(l&lt;=r) &#123;</div><div class="line">        m = (l+r)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(calc(m)&gt;n) r=m<span class="number">-1</span>;</div><div class="line">        <span class="keyword">else</span> l=m+<span class="number">1</span>,p=m;</div><div class="line">    &#125;</div><div class="line">    LL rest = ((n - calc(p))%MOD+MOD)%MOD;</div><div class="line">    LL ans = <span class="number">0</span>, s, t, e, k, c=<span class="number">1</span>, x, y;</div><div class="line">    <span class="keyword">for</span>(LL i=<span class="number">1</span>;; i&lt;&lt;=<span class="number">1</span>,c++) &#123;</div><div class="line">        <span class="keyword">if</span>(i&gt;p) <span class="keyword">break</span>;</div><div class="line">        x = i%MOD;</div><div class="line">        y = <span class="number">2</span>*i%MOD;</div><div class="line">        s = x;</div><div class="line">        k = ((p-i)/(<span class="number">2</span>*i)+<span class="number">1</span>)%MOD;</div><div class="line">        e = (y*(k<span class="number">-1</span>)%MOD+i)%MOD;</div><div class="line">        ans = (ans+c*(s+e)%MOD*k%MOD*inv2%MOD)%MOD;</div><div class="line">    &#125;</div><div class="line">    ans = (ans + rest*((p+<span class="number">1</span>)%MOD)%MOD)%MOD;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans+<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</div><div class="line">        n--; <span class="comment">//偏移一项</span></div><div class="line">        solve();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="K-Time-Zone"><a href="#K-Time-Zone" class="headerlink" title="K. Time Zone"></a>K. Time Zone</h3><p>精度问题，很重要哦！！！但怎么看出来这里有精度问题的呢！</p>
<p>网上看到这样一段话</p>
<blockquote>
<ul>
<li><p>ICPC题目输出有个不成文的规定(有时也成文)，不要输出: -0.000</p>
<p>那我们首先要弄清，什么时候按printf(“%.3lf\n”, a)输出会出现这个结果。</p>
<p>直接给出结果好了：a∈(-0.000499999……, -0.000……1)</p>
<p>所以，如果你发现a落在这个范围内，请直接输出0.000。更保险的做法是用sprintf直接判断输出结果是不是-0.000再予处理。</p>
<p>典型案例:UVA746</p>
</li>
<li><p>unisgned long long输出是<strong>%llu</strong></p>
</li>
</ul>
</blockquote>
<p>打算看看这个UVA 746</p>
<p>但是这里的还是很奇怪呢！！！！！</p>
<p>看直播说是读入小数就会有误差？？？！！！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//my</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-10</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> t,a,b;</div><div class="line">    <span class="keyword">double</span> d;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    <span class="keyword">while</span>(t--)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d UTC%lf"</span>,&amp;a,&amp;b,&amp;d);</div><div class="line">        <span class="keyword">int</span> sum=a*<span class="number">60</span>+b<span class="number">-8</span>*<span class="number">60</span>;</div><div class="line">        <span class="keyword">if</span>(d&gt;<span class="number">0</span>)</div><div class="line">            sum+=(<span class="keyword">int</span>)(d*<span class="number">60</span>+eps);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            sum+=(<span class="keyword">int</span>)(d*<span class="number">60</span>-eps);</div><div class="line">        sum%=<span class="number">24</span>*<span class="number">60</span>;</div><div class="line">        <span class="keyword">if</span>(sum&lt;<span class="number">0</span>)</div><div class="line">            sum+=<span class="number">24</span>*<span class="number">60</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d\n"</span>,sum/<span class="number">60</span>,sum%<span class="number">60</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//这里的ssanf很重要</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-10</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">double</span> d;</div><div class="line"><span class="keyword">int</span> t, h, m, c, sign;</div><div class="line"><span class="keyword">char</span> s[<span class="number">20</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    <span class="keyword">while</span>(t--)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%s"</span>, &amp;h, &amp;m, s);</div><div class="line">        h = h * <span class="number">60</span> + m;</div><div class="line">        sign = s[<span class="number">3</span>] == <span class="string">'+'</span> ? <span class="number">1</span> : <span class="number">-1</span>;</div><div class="line">        <span class="built_in">sscanf</span>(s + <span class="number">4</span>, <span class="string">"%lf"</span>, &amp;d);</div><div class="line">        c = (<span class="keyword">int</span>)(d * <span class="number">60</span>+eps);<span class="comment">//注意浮点误差</span></div><div class="line">        c = sign * c- <span class="number">8</span> * <span class="number">60</span>;</div><div class="line">        h += c;</div><div class="line">        h %= (<span class="number">24</span> * <span class="number">60</span>);</div><div class="line">        <span class="keyword">if</span> (h &lt; <span class="number">0</span>) h += <span class="number">24</span> * <span class="number">60</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d\n"</span>, h / <span class="number">60</span>, h % <span class="number">60</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Contest-2"><a href="#Contest-2" class="headerlink" title="Contest 2"></a>Contest 2</h2><p>补题：3.5</p>
<h3 id="D-Game"><a href="#D-Game" class="headerlink" title="D. Game"></a>D. Game</h3><p>博弈论的题目，感觉就像是在玩游戏一样，所以一定要胜利啊！</p>
<p>这里呢，我们要先理解题目，不过被我蒙对了（其实是我英语太弱的缘故）</p>
<p>我们发现每个数的因子都有1，所以我们先考虑没有1的情况下，如果Alice，能赢，那么她必赢！</p>
<p>如果不可以赢，那么第一局的时候Alice先拿掉1，于是她又将战局转化了</p>
<p>这是第一次见到必赢局的博弈论（刷题少，不怪我！不怪我！不怪我！）</p>
<p>代码就不贴了吧，好傻的呢！</p>
<h3 id="E-Hack-It"><a href="#E-Hack-It" class="headerlink" title="E. Hack It"></a>E. Hack It</h3><p>看题解了，（因为过的人少</p>
<p>可以推广到完全平方的情况，但是sqrt(n)必须是素数，暂且以16来说明！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">n=25时情况</div><div class="line"></div><div class="line">10000 10000 10000 10000 10000 每一列退0个</div><div class="line">10000 01000 00100 00010 00001 每一列退1个</div><div class="line">10000 00100 00001 01000 00010 每一列退2个</div><div class="line">10000 00010 01000 00001 00100 每一列退3个</div><div class="line">10000 00001 00010 00100 01000 每一列退4个</div><div class="line"></div><div class="line">01000 01000 01000 01000 01000 </div><div class="line">01000 00100 00010 00001 10000 </div><div class="line">01000 00010 10000 00100 00001 </div><div class="line">01000 00001 00100 10000 00010 </div><div class="line">01000 10000 00001 00010 00100</div><div class="line"></div><div class="line">00100 00100 00100 00100 00100 </div><div class="line">00100 00010 00001 10000 01000 </div><div class="line">00100 00001 01000 00010 10000 </div><div class="line">00100 10000 00010 01000 00001 </div><div class="line">00100 01000 10000 00001 00010</div><div class="line"></div><div class="line">00010 00010 00010 00010 00010 </div><div class="line">00010 00001 10000 01000 00100 </div><div class="line">00010 10000 00100 00001 01000 </div><div class="line">00010 01000 00001 00100 10000 </div><div class="line">00010 00100 01000 10000 00001</div><div class="line"></div><div class="line">00001 00001 00001 00001 00001 </div><div class="line">00001 10000 01000 00100 00010 </div><div class="line">00001 01000 00010 10000 00100 </div><div class="line">00001 00100 10000 00010 01000 </div><div class="line">00001 00010 00100 01000 10000</div><div class="line"></div><div class="line">n=16</div><div class="line">1000 1000 1000 1000</div><div class="line">1000 0100 0010 0001</div><div class="line">1000 0010 1000 我们可以看到这里就不可以了吧！</div><div class="line">其实可以马上想到，这里退的必须不可以是它的倍数，否则会回到原来的样子的！</div></pre></td></tr></table></figure>
<p>然后我们可以知道1的个数不可以少于85000，那就索性用n的最大值好啦！省的计算了！</p>
<p>于是sqrt(2000) 最接近的质数是47 ，然后就可以码代码了！</p>
<p>网上都是代码，不想复制粘贴！</p>
<h3 id="G-Navie-Operations"><a href="#G-Navie-Operations" class="headerlink" title="G. Navie Operations"></a>G. Navie Operations</h3><p>一看题目，就知道是线段树了！想要呼唤博博码代码，emmm……</p>
<p>真是奇了怪了，再嘟囔一下我和线段树的爱恨离愁！貌似还因为线段树和某人吵过冷架！</p>
<p>因为向下取整，对于每次更新，对区间是不一定影响的！只有当等于b的时候，才会使答案修正！修正过后，再将a赋值为零！相当于a是小数部分！</p>
<p>但是网上的题解都是反过来想的，不明白为什么，是不好实现么！</p>
<p>把bi放入对应节点，维护区间最小值，当最小值减到0时就再用线段维护一个答案，使得答案+1，并且重新给该节点赋值bi</p>
<p>不管啦，思路正确就ok啦！</p>
<p>所以，没有代码的呢！</p>
<h3 id="J-Swaps-and-Inversions"><a href="#J-Swaps-and-Inversions" class="headerlink" title="J. Swaps and Inversions"></a>J. Swaps and Inversions</h3><p>首先这题还是题目的理解，好吧，我单词不认识，对于x的情况，是不符合原位置的数进行罚款呢？（其实应该只有我理解有误的吧！逆序对，一般都是这么说的啊！好像没有逆序数的吧！</p>
<p>那么对于y的，每一次和相邻位置进行调换所需要的花费，其实也是逆序对。</p>
<p>于是只需要求逆序对将其乘上<code>min(x,y)</code></p>
<p>发现我之前的逆序对模版的离散化有点问题，郁闷！</p>
<p>难道我没有测试么！</p>
<p>好吧，反正现在模版优化了，很开心啦！</p>
<p>其实我不懂树状数组的，背下来就好啦！反正可以拿板子的么！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> reflect[maxn];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">type</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> tree[maxn];</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> x&amp;(-x);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">        <span class="keyword">while</span>(x&lt;=maxn)&#123;</div><div class="line">            tree[x]+=value;</div><div class="line">            x+=lowbit(x);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> temp=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(x&gt;<span class="number">0</span>)&#123;</div><div class="line">            temp+=tree[x];</div><div class="line">            x-=lowbit(x);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> temp;</div><div class="line">    &#125;</div><div class="line">&#125;ty;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> v;</div><div class="line">    <span class="keyword">int</span> order;</div><div class="line">&#125;in[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> a.v&lt;b.v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n,x,y;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;x,&amp;y)!=EOF)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;in[i].v);</div><div class="line">            in[i].order=i;</div><div class="line">        &#125;</div><div class="line">        sort(in+<span class="number">1</span>,in+n+<span class="number">1</span>,cmp);</div><div class="line"></div><div class="line">        <span class="keyword">int</span> now=<span class="number">1</span>;</div><div class="line">        reflect[in[<span class="number">1</span>].order]=<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(in[i].v!=in[i<span class="number">-1</span>].v)now++;</div><div class="line">            reflect[in[i].order]=now;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">memset</span>(ty.tree, <span class="number">0</span>, <span class="keyword">sizeof</span>(ty.tree));</div><div class="line">        ll ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            ty.updata(reflect[i], <span class="number">1</span>);</div><div class="line">            ans+=i-ty.getsum(reflect[i]);</div><div class="line">        &#125;</div><div class="line">        ans=ans*min(x,y);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Contest-5"><a href="#Contest-5" class="headerlink" title="Contest 5"></a>Contest 5</h2><p>补题：2.5题</p>
<h3 id="B-Beautiful-Now"><a href="#B-Beautiful-Now" class="headerlink" title="B. Beautiful Now"></a>B. Beautiful Now</h3><blockquote>
<p>for each permutation of digits, the minimum number of swaps equals to n minus the number of disjoint cycles in the permutation. We can solve the problem by enumerating all the n-permutations. That is, for each permutation, we just check if it can be reached within k swaps (because swapping the same digit is permitted) and then update the answer. Time complexity is expected to be O(n!) while algorithms in time complexity O(n!n) may get TLE verdict (but who knows?). In order to achieve the excepted time complexoty, we may need to maintain some information about chains and cycles effciently during the process of searching and backtracking.</p>
<p>考虑下标的置换，可以发现最少的交换次数等于 n 减去置换中循环的数量，所以可以枚举所有的 n 排列解决此题。 对于每个置换， 只需要检查它是否可以在 k 次交换内实现（因为可以交换相同的位置） 并更新答案。 期望时间复杂度是 O(n!)， O(n!n)的算法有可能会超时（也可能不超时）。 为了实现期望 复杂度可能需要在搜索和回溯过程中高效维护链和环的信息。</p>
</blockquote>
<p>看不懂题解的我，被空调吹傻的我……</p>
<p>置换群？排列组合？</p>
<p>一直以为是贪心呢！（想知道数据啊，感觉也可行呐！不过给的时间就可以告诉我，不是的，但苍天啊，大地啊！给个反例吧！）</p>
<p>第二天，博博过了！</p>
<p>嗯，大概就是通过把每种置换方法都列出来，然后通过每种置换变换为目标的串所需要的次数，如果小于k，则是可以的；对于可以的，进行值的比较更新结果！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">9</span>;</div><div class="line"><span class="keyword">char</span> buf[maxn + <span class="number">2</span>];</div><div class="line"><span class="keyword">int</span> q[maxn+<span class="number">2</span>],num[maxn+<span class="number">2</span>],p[maxn+<span class="number">2</span>];</div><div class="line"><span class="keyword">int</span> low,upp,n,m;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(num[p[<span class="number">1</span>]]==<span class="number">0</span>) <span class="keyword">return</span>; <span class="comment">//第一位数字不可以是0</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) q[i]=p[i]; <span class="comment">//q数组内保存全排列后的位置</span></div><div class="line">    <span class="keyword">int</span> k=<span class="number">0</span>,s=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">        s=s*<span class="number">10</span>+num[p[i]];</div><div class="line">        <span class="keyword">if</span>(q[i]!=i)&#123; <span class="comment">//如果当前位数字更改了</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</div><div class="line">                <span class="keyword">if</span>(q[j]==i)&#123;<span class="comment">//找到交换后的位置，进行交换</span></div><div class="line">                    swap(q[i],q[j]);</div><div class="line">                    k++;</div><div class="line">                    <span class="keyword">if</span>(k&gt;m) <span class="keyword">return</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(k&gt;m) <span class="keyword">return</span>;<span class="comment">//转换了超过k次</span></div><div class="line">    upp=max(upp,s);</div><div class="line">    low=min(low,s);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> t;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</div><div class="line">    <span class="keyword">while</span>(t--) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;low, &amp;m);</div><div class="line">        upp = low;</div><div class="line">        n = <span class="built_in">sprintf</span>(buf, <span class="string">"%d"</span>, low);</div><div class="line">        <span class="keyword">if</span>(n &gt; maxn) &#123; <span class="comment">//1e9，10位数字</span></div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, low, upp);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(n<span class="number">-1</span> &lt;= m) &#123;<span class="comment">//这里刚开始没怎么想，如果写n&lt;=m则会TLE，这里看到全排列是如此多啊！！！</span></div><div class="line">            sort(buf, buf + n, greater&lt;<span class="keyword">char</span>&gt;());</div><div class="line">            <span class="built_in">sscanf</span>(buf, <span class="string">"%d"</span>, &amp;upp);</div><div class="line">            <span class="comment">//特殊处理第一位</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</div><div class="line">                <span class="keyword">if</span>(buf[<span class="number">0</span>] &gt; buf[i] &amp;&amp; buf[i] &gt; <span class="string">'0'</span>)</div><div class="line">                    swap(buf[<span class="number">0</span>], buf[i]);</div><div class="line">            <span class="comment">//排序</span></div><div class="line">            sort(buf + <span class="number">1</span>, buf + n);</div><div class="line">            <span class="built_in">sscanf</span>(buf, <span class="string">"%d"</span>, &amp;low);</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, low, upp);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            num[i]=buf[i<span class="number">-1</span>]-<span class="string">'0'</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) p[i]=i;  <span class="comment">//每一位数字原来保存在哪里</span></div><div class="line">        <span class="keyword">do</span>&#123;</div><div class="line">            update();</div><div class="line">        &#125;<span class="keyword">while</span>(next_permutation(p+<span class="number">1</span>,p+n+<span class="number">1</span>)) ;<span class="comment">//全排列</span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,low,upp);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="E-Everything-Has-Changed"><a href="#E-Everything-Has-Changed" class="headerlink" title="E. Everything Has Changed"></a>E. Everything Has Changed</h3><blockquote>
<p>Note that the cutting areas do not intersect and the different areas do not affect each other. Just enumerate every cutting area intersecting the disk and then count the lengths of their circumferences covered by each other.</p>
<p>注意切割区域两两不相交， 则不同切割区域不会相互影响。 枚举每个与圆盘相交的切割区域， 计算互相被包含的圆周长度即可。</p>
</blockquote>
<p>画个图就ok！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">105</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> EPS = <span class="number">1e-5</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Point(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>) &#123;</div><div class="line">        x = a;</div><div class="line">        y = b;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cycle</span> &#123;</span></div><div class="line">    Point centre;</div><div class="line">    <span class="keyword">double</span> r;</div><div class="line">&#125;cycle[MAX];</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">dis</span><span class="params">(Point a, Point b)</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> dx = a.x - b.x, dy = a.y - b.y;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(dx * dx + dy * dy);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (a - b &gt;= EPS)    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (b - a &gt;= EPS)   <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(Cycle a)</span> </span>&#123;<span class="comment">//判断是否相交</span></div><div class="line">    <span class="keyword">double</span> d = dis(a.centre, cycle[<span class="number">0</span>].centre);</div><div class="line">    <span class="keyword">if</span> (cmp(d, cycle[<span class="number">0</span>].r - a.r) &gt;= <span class="number">0</span> &amp;&amp; cmp(cycle[<span class="number">0</span>].r + a.r, d) &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// freopen("input.txt", "r", stdin);</span></div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span> (T--) &#123;</div><div class="line">        cycle[<span class="number">0</span>].centre = Point(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">int</span> m;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%lf"</span>, &amp;m, &amp;cycle[<span class="number">0</span>].r);</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf"</span>, &amp;cycle[i].centre.x, &amp;cycle[i].centre.y, &amp;cycle[i].r);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">double</span> angle, d, r, R = cycle[<span class="number">0</span>].r, ans = <span class="number">2</span> * PI * R, beta;</div><div class="line">        <span class="comment">// cout &lt;&lt; ans &lt;&lt; endl;</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (check(cycle[i])) &#123;</div><div class="line">                <span class="comment">// cout &lt;&lt; i &lt;&lt; endl;</span></div><div class="line">                d = dis(cycle[<span class="number">0</span>].centre, cycle[i].centre);</div><div class="line">                r = cycle[i].r;</div><div class="line">                beta = <span class="built_in">acos</span>((R * R + d * d - r * r) / (<span class="number">2</span> * R * d));</div><div class="line">                angle = <span class="built_in">acos</span>((d * d + r * r - R * R) / (<span class="number">2</span> * d * r));</div><div class="line">                ans += <span class="number">2</span> * angle * r - <span class="number">2</span> * beta * R;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%.7lf\n"</span>, ans);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="G-Glad-You-Came"><a href="#G-Glad-You-Came" class="headerlink" title="G. Glad You Came"></a>G. Glad You Came</h3><blockquote>
<p>If there are two operations covering the same interval, we can just keep the maximum one. For each operation(l,r,v),let d be 」log2(r-l+1)」, replace this operation by two operations (l,l+2^d-1,v) and (r-2^d+1,r,v). After that, the length of the interval that each operations covers is a power of 2, which means the lengths are only O(logn) types. The remaining part is just to enumerate operations in length decreasing order and split each operation into two operations of equal length until the length is one. Time complexity is O(m+nlogn) and space complexity is O(nlogn).</p>
</blockquote>
<p>如果有两个操作覆盖相同的间隔，我们可以保持最大值。 对于每个操作（l，r，v），令d为对log2（r-l + 1）向下取整，将该操作替换为两个操作（l，l + 2 ^ d-1，v）和（r-2 ^d+ 1，R，v）。 之后，每个操作所覆盖的间隔的长度是2的幂，这意味着长度仅为O（logn）类型。 剩下的部分只是按长度递减顺序枚举操作，并将每个操作分成两个相等长度的操作，直到长度为1。 时间复杂度为O（m + nlogn），空间复杂度为O（nlogn）。</p>
<blockquote>
<p>如果有两个操作覆盖相同的区间， 我们可以保留最大的那个。 对于每个操作（l，r，v）， 令 d 等于 对log2（r-l + 1）向下取整， 我们可以用两个操作（l，l + 2 ^ d-1，v）和（r-2 ^d+ 1，R，v）替换此操作。 这样做之后， 每个操作所覆盖的区间长度均为 2 的幂， 这意味着长度仅有 O（logn）种。 剩下的只不过是， 按长度递 减的顺序枚举操作，将每个操作分成两个相等长度的操作，直到区间长度为一。这样做的时间复杂度为O（m + nlogn），空间复杂度为O（nlogn）。</p>
</blockquote>
<p>这个，线段树有博博会就够了！emmm……我估计永远都不会线段树了！</p>
<h2 id="Contest-6"><a href="#Contest-6" class="headerlink" title="Contest 6"></a>Contest 6</h2><p>补题：6题</p>
<h3 id="A-oval-and-rectangle"><a href="#A-oval-and-rectangle" class="headerlink" title="A. oval-and-rectangle"></a>A. oval-and-rectangle</h3><p>这题英文不好，跑偏了！</p>
<ul>
<li>这里的side居然不是边的意思，导致我们认为纵坐标是<code>c/2</code>，怎么能默认y就是坐标y呢！</li>
<li>这里的c不可以是横坐标的选择，我们还以为一条边是c，那么也可以是x是<code>c/2</code></li>
</ul>
<p>所以总结来说，英文不好！</p>
<p>最后，其实跳出来的时候，踩进的坑则是，输出格式。题目要求的是丢弃末尾，而不是四舍五入。但我不知道的是用<code>%.6lf</code>输出的是经过四舍五入的。所以需要先化成整数，再用<code>floor</code>函数之后，在转换为小数！</p>
<p>所以，WA的几发都是这个原因。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="keyword">double</span> a,b;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;a,&amp;b);</div><div class="line"><span class="comment">//        double angle2 = PI/2;</span></div><div class="line"><span class="comment">//        double angle1 = asin(b/a);</span></div><div class="line"><span class="comment">//        double tmp3 = a*sin(2*angle2)+2*a*angle2-b*(cos(2*angle2)-1);</span></div><div class="line"><span class="comment">//        double tmp2 = a*sin(2*angle1)+2*a*angle1-a*a/b*(cos(2*angle1)-1);</span></div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="built_in">floor</span>((a * PI + <span class="number">2</span> * b) * <span class="number">1000000</span>);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%.6lf\n"</span>, (<span class="keyword">double</span>)ans / <span class="number">1000000</span>);</div><div class="line"></div><div class="line"><span class="comment">//        printf("%.6lf\n",tmp2);</span></div><div class="line"><span class="comment">//        printf("%.6lf\n",0.5*(tmp2+tmp3));</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="B-Bookshelf"><a href="#B-Bookshelf" class="headerlink" title="B. Bookshelf"></a>B. Bookshelf</h3><p>先放点数论的知识点：</p>
<p>欧拉降幂公式：a^x ≡a^(x modϕ(p)+ϕ(p)) (mod p)</p>
<p>费马小定理：  $\frac a b\%mod=a*b^{mod-2}\%mod$</p>
<p>最大公约数(gcd)的性质：</p>
<p>交换律    gcd(a,b)=gcd(b,a)</p>
<p>分配律    gcd(ma,mb)=m * gcd(a,b)</p>
<p>​        gcd(a, lcm(b, c)) = lcm(gcd(a, b),gcd(a, c)) </p>
<p>​        lcm(a, gcd(b, c)) = gcd(lcm(a, b), lcm(a, c))</p>
<p>【最大公因子lcm】</p>
<p>$gcd(a^{F_x}+c,a^{F_y}+c) = 2^{gcd(F_x,F<em>y)}+c = 2^{F</em>{gcd(x,y)}}+c$</p>
<p><img src="/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B.png" alt="image-20180811152621033"></p>
<p><img src="/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B-2.jpg" alt=""> </p>
<p><img src="/Users/mrs_empress/blog/source/_posts/2018-hdu-6-B-3.jpg" alt=""></p>
<p>在写代码的时候，如果将$2^{F_g}$的值作为新的$f[i]$先预处理，但这时会TLE，所以我们需要继续观察</p>
<p>$f[i]=2^{F[i]}=2^{F[i-1]+F[i-2]}=2^{F[i-1]}<em>2^{F[i-2]}=f[i-1]</em>f[i-2]$</p>
<p>这样就不用每次调用函数了</p>
<p>我居然把快速幂写错了！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2e6</span>+<span class="number">10</span>;</div><div class="line">ll f[maxn],fac[maxn],inv[maxn],a[maxn];</div><div class="line"><span class="keyword">int</span> n,k;</div><div class="line"><span class="function">ll <span class="title">kpow</span><span class="params">(ll a,ll b)</span></span>&#123;</div><div class="line">    ll ans=<span class="number">1</span>,base=a;</div><div class="line">    <span class="keyword">while</span>(b)&#123;</div><div class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>) ans=(ans*base)%mod;</div><div class="line">        base=base*base%mod;</div><div class="line">        b&gt;&gt;=<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">    f[<span class="number">0</span>]=<span class="number">1</span>;f[<span class="number">1</span>]=<span class="number">2</span>;</div><div class="line">    fac[<span class="number">0</span>]=fac[<span class="number">1</span>]=<span class="number">1</span>;</div><div class="line">    inv[<span class="number">1</span>]=<span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;maxn;i++)&#123;</div><div class="line">        f[i]=(f[i<span class="number">-2</span>]*f[i<span class="number">-1</span>])%mod;</div><div class="line">        fac[i]=<span class="number">1L</span>L*fac[i<span class="number">-1</span>]*i%mod;</div><div class="line">        inv[i]=kpow(fac[i], mod<span class="number">-2</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">ll <span class="title">Cnm</span><span class="params">(ll n,ll m)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(n&lt;m) <span class="keyword">return</span> <span class="number">0L</span>L;</div><div class="line">    <span class="keyword">if</span>(n==m||m==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1L</span>L;</div><div class="line">    <span class="keyword">if</span>(m==<span class="number">1</span>||m==n<span class="number">-1</span>) <span class="keyword">return</span> n;</div><div class="line">    <span class="keyword">return</span> fac[n]*inv[m]%mod*inv[n-m]%mod;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    init();</div><div class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</div><div class="line">        ll ans=<span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> g=n;g&gt;=<span class="number">1</span>;g--)&#123;</div><div class="line">            <span class="keyword">if</span>(n%g==<span class="number">0</span>)&#123;</div><div class="line">                ll j=n/g;</div><div class="line">                a[g]=Cnm(j+k<span class="number">-1</span>, j);</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>*g;i&lt;=n;i+=g)&#123;</div><div class="line">                    a[g]=(a[g]-a[i]+mod)%mod;</div><div class="line">                &#125;</div><div class="line"><span class="comment">//                cout&lt;&lt;g&lt;&lt;" "&lt;&lt;f[g]&lt;&lt;" "&lt;&lt;kpow(2,f[g])&lt;&lt;endl;</span></div><div class="line"><span class="comment">//                ans=(ans+a[g]*(kpow(2,f[g])-1+mod)%mod)%mod;</span></div><div class="line">                ans=(ans+a[g]*(f[g]<span class="number">-1</span>+mod)%mod)%mod;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        ll sum=Cnm(n+k<span class="number">-1</span>, n);</div><div class="line">        ans=ans*kpow(sum, mod<span class="number">-2</span>)%mod;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="C-Ringland"><a href="#C-Ringland" class="headerlink" title="C. Ringland"></a>C. Ringland</h3><h3 id="D-Shoot-Game"><a href="#D-Shoot-Game" class="headerlink" title="D. Shoot Game"></a>D. Shoot Game</h3><p>区间DP题目，刚开始想了很久的DP设计，然后</p>
<p>果断看了题解（发现了一句话</p>
<blockquote>
<p>只需要考虑像所有障碍物的两个端点去发射射线，就能包含所有的情况</p>
</blockquote>
<p>可以想象一下，就明白了（这句话很重要哦！</p>
<p>然后所需的就是按角序对2n个点重新排序，（注意按一般来说，我们写的是k，但是角序，是按照顺时针来的，不是按照k的值的大小来的；同时分式变的时候，乘以的分母不一定是整数，所以，导致了我一开始的<code>&lt;</code>重载是反着的</p>
<p>之后，我们需要将原来序号和新序号对应起来</p>
<p>之后，找到最大障碍物，（这里当时思考了一个问题，如果有两个最大值怎么办，画一个图就可以知道了</p>
<p>之后，就根据dp等式进行了转移</p>
<p>这里如果有两个斜率的话，会增加复杂度，应该不会导致错误的发生，但从我们的思路来说，是通过顺序枚举斜率来考虑的，所以，发现了一个新的函数<code>unique</code>，同时，我终于会在结构体里重载运算符了，（因为在结构体里写有好多<code>const</code>值，我总是忘记写第二个<code>const</code>）</p>
<p>之又发生了一个问题，就是如果删去重复元素的话，会导致有些元素找不到对应的新坐标</p>
<p>所以WA了</p>
<p>附上AC代码：【因为刚开始的问题，所以实际上我们可以将<code>oldNo</code>和<code>left</code>这两个变量删除</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">610</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>&#123;</span></div><div class="line">    ll x,y;</div><div class="line">    <span class="keyword">int</span> oldNo;</div><div class="line">    <span class="keyword">bool</span> left;</div><div class="line">    </div><div class="line">    Point() &#123;&#125;</div><div class="line">    Point(ll _x,ll _y,<span class="keyword">int</span> _o,<span class="keyword">bool</span> _l):x(_x),y(_y),oldNo(_o),left(_l) &#123;&#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> Point&amp; other)<span class="keyword">const</span>&#123;</div><div class="line">        <span class="keyword">return</span> y*other.x&gt;=x*other.y;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> ==(<span class="keyword">const</span> Point&amp; other)<span class="keyword">const</span>&#123;</div><div class="line">        <span class="keyword">return</span> y*other.x-x*other.y==<span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;point[maxn];</div><div class="line"></div><div class="line"><span class="keyword">int</span> h[maxn],l[maxn],r[maxn],w[maxn];</div><div class="line">ll dp[maxn][maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">        <span class="keyword">int</span> m=<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;h[i],&amp;l[i],&amp;r[i],&amp;w[i]);</div><div class="line">            point[m].x=l[i]; point[m].y=h[i];</div><div class="line">            point[m+<span class="number">1</span>].x=r[i];point[m+<span class="number">1</span>].y=h[i];</div><div class="line">            point[m].oldNo=point[m+<span class="number">1</span>].oldNo=i;</div><div class="line">            point[m].left=<span class="literal">true</span>;point[m+<span class="number">1</span>].left=<span class="literal">false</span>;</div><div class="line">            m+=<span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        m--;</div><div class="line">        sort(point+<span class="number">1</span>, point+m+<span class="number">1</span>);</div><div class="line">        m=unique(point+<span class="number">1</span>, point+m+<span class="number">1</span>)-(point+<span class="number">1</span>);</div><div class="line">        </div><div class="line">        <span class="comment">//这里如果这样写的话，会有一些斜率相同的点被改变的</span></div><div class="line"><span class="comment">//        for(int i=1;i&lt;=m;i++)&#123;</span></div><div class="line"><span class="comment">////            cout&lt;&lt;point[i].x&lt;&lt;" "&lt;&lt;point[i].y&lt;&lt;endl;</span></div><div class="line"><span class="comment">//            if(point[i].left)&#123;</span></div><div class="line"><span class="comment">//                l[point[i].oldNo]=i;</span></div><div class="line"><span class="comment">//            &#125;else&#123;</span></div><div class="line"><span class="comment">//                r[point[i].oldNo]=i;</span></div><div class="line"><span class="comment">//            &#125;</span></div><div class="line"><span class="comment">//        &#125;</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i) &#123;</div><div class="line">            l[i]=lower_bound(point+<span class="number">1</span>,point+<span class="number">1</span>+m,Point(l[i],h[i],i,<span class="literal">true</span>))-point<span class="number">-1</span>;</div><div class="line">            r[i]=lower_bound(point+<span class="number">1</span>,point+<span class="number">1</span>+m,Point(r[i],h[i],i,<span class="literal">false</span>))-point<span class="number">-1</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line"><span class="comment">//        for(int i=1;i&lt;=n;i++)&#123;</span></div><div class="line"><span class="comment">//            cout&lt;&lt;l[i]&lt;&lt;" "&lt;&lt;r[i]&lt;&lt;endl;</span></div><div class="line"><span class="comment">//        &#125;</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">1</span>;len&lt;=m;len++)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=m;i++)&#123;</div><div class="line">                <span class="keyword">int</span> j=len+i<span class="number">-1</span>;</div><div class="line">                </div><div class="line">                <span class="comment">//寻找最大值的点</span></div><div class="line">                <span class="keyword">int</span> left=<span class="number">-1</span>,right=<span class="number">-1</span>,val=<span class="number">-1</span>;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;</div><div class="line">                    <span class="keyword">if</span>(i&lt;=l[k]&amp;&amp;r[k]&lt;=j&amp;&amp;w[k]&gt;val)&#123;</div><div class="line">                        left=l[k];right=r[k];</div><div class="line">                        val=w[k];</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="comment">//如果没有点在其中，则这一段不需要消耗灵力</span></div><div class="line">                <span class="keyword">if</span>(val==<span class="number">-1</span>)&#123;</div><div class="line">                    dp[i][j]=<span class="number">0</span>;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                dp[i][j]=(<span class="number">1L</span>L&lt;&lt;<span class="number">60</span>);</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=left;k&lt;=right;k++)&#123;</div><div class="line">                    dp[i][j]=min(dp[i][j],dp[i][k<span class="number">-1</span>]+dp[k+<span class="number">1</span>][j]+val);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,dp[<span class="number">1</span>][m]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="I-Werewolf"><a href="#I-Werewolf" class="headerlink" title="I. Werewolf"></a>I. Werewolf</h3><p>不存在铁定是村民的情况；环中只有一条狼标记的边，则指向的点定是狼，之后通过指向狼的边标记是村民的点定是狼 </p>
<p>可惜，不会写代码！</p>
<p>题解中说的是，先不考虑狼人边，如果得到的是基环树（基环树就是树加上了一条边，使之成为环），则这里都可以是村民；</p>
<p>如果得到的是树，进行分类讨论。</p>
<p>我们需要的是铁狼的数量！</p>
<p>然后网上有</p>
<ul>
<li><p>搜索+并查集（并查集就是把指认是村民的边缩点，即把那个特殊判断的环缩在一起，如果属于同一集合，说明是一个环内！嗯嗯，终于懂了！感觉并查集太厉害了！（好吧，今天发现自己原来反应真的很迟钝，外加很蠢！估计是被某人说蠢的吧！</p>
<p>【不过，为了凸显自己的特别，所以不可以夸我，只可以黑我……emmmm 这理由，我想咬人！哼！</p>
<p>哦，对，这里写的时候，只输出了ans，找bug一万年，然后发现bug，呼，又是一万年的命啊……</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> num,n,ans;</div><div class="line"><span class="keyword">int</span> head[maxn],f[maxn];</div><div class="line"><span class="keyword">bool</span> vis[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(f[x]==x) <span class="keyword">return</span> x;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> f[x]=Find(f[x]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> fx=Find(x);<span class="keyword">int</span> fy=Find(y);</div><div class="line">    <span class="keyword">if</span>(fx==fy) <span class="keyword">return</span> ;</div><div class="line">    <span class="keyword">else</span> f[fy]=fx;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> u,v,next,w;</div><div class="line">&#125;edge[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;<span class="comment">//向前插入的链表</span></div><div class="line">    edge[num].u=u;</div><div class="line">    edge[num].v=v;</div><div class="line">    edge[num].w=w;</div><div class="line">    edge[num].next=head[u];</div><div class="line">    head[u]=num++;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) f[i]=i;</div><div class="line">    num=<span class="number">0</span>;ans=<span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> x;<span class="keyword">char</span> s[<span class="number">20</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%s"</span>,&amp;x,s);</div><div class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">'w'</span>)</div><div class="line">            addEdge(x, i, <span class="number">1</span>);</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            addEdge(x, i, <span class="number">0</span>);</div><div class="line">            Union(i,x);<span class="comment">//将指认村民的缩点，形成的环，进行缩点</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        init();</div><div class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=num;i++)&#123;</div><div class="line">            <span class="keyword">int</span> u = edge[i].u,v=edge[i].v,w=edge[i].w;</div><div class="line">            <span class="keyword">if</span>(Find(u)==Find(v)&amp;&amp;w==<span class="number">1</span>&amp;&amp;vis[v]==<span class="number">0</span>)&#123;<span class="comment">//特殊判断</span></div><div class="line">                ans++;</div><div class="line">                q.push(u);</div><div class="line">                vis[u]=<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">            <span class="keyword">int</span> u = q.front();</div><div class="line">            q.pop();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=edge[i].next)&#123;</div><div class="line">                <span class="keyword">int</span> v=edge[i].v,w=edge[i].w;</div><div class="line">                <span class="keyword">if</span>(w) <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span>(vis[v]) <span class="keyword">continue</span>;</div><div class="line">                ans++;</div><div class="line">                q.push(v);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"0 %d\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>缩点（tarjan）【这个比较适合我啦！但写起来比较麻烦，然后我就写爆了！额……给个框架，带我再学习一遍，重来吧！太惨了……过了，太惨了……( ･᷄ὢ･᷅ )</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> next,to,w;</div><div class="line">&#125;ed[maxn&lt;&lt;<span class="number">1</span>],e[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;</div><div class="line">    ed[cnt].w=w;</div><div class="line">    ed[cnt].to=v;</div><div class="line">    ed[cnt].next=head[u];</div><div class="line">    head[u]=cnt++;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add2</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;<span class="comment">//反向建边</span></div><div class="line">    e[tot].w=w;</div><div class="line">    e[tot].to=v;</div><div class="line">    e[tot].next=first[u];</div><div class="line">    first[u]=tot++;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> root)</span></span>&#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;<span class="comment">//i是铁狼</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=first[i];~j;j=e[j].next)&#123;</div><div class="line">        <span class="keyword">int</span> v=e[j].to;</div><div class="line">        <span class="keyword">if</span>(e[j].w==<span class="number">1</span>)&#123;</div><div class="line">            ans++;</div><div class="line">            dfs(v);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="keyword">int</span> n;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">        cnt=</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            <span class="keyword">int</span> x;<span class="keyword">char</span> s[<span class="number">50</span>];</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%s"</span>,&amp;x,s);</div><div class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">'w'</span>)&#123;<span class="comment">//0为狼边，1为村民边</span></div><div class="line">                add(i, x, <span class="number">0</span>);</div><div class="line">                add2(x, i, <span class="number">0</span>);<span class="comment">//反向建图</span></div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                add2(x, i, <span class="number">1</span>);</div><div class="line">                add(i, x, <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(!dfn[i]) tarjan(i);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">//……一些丑陋的代码</span></div><div class="line">        </div><div class="line">        <span class="built_in">printf</span>(<span class="string">"0 %d\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>基环树（题解！没兴趣- - 不过代码看懂了</p>
</li>
<li><p>反向建边（这个还是不错的呢</p>
</li>
</ul>
<h3 id="K-Sacul"><a href="#K-Sacul" class="headerlink" title="K. Sacul"></a>K. Sacul</h3><p>主要是数学的分析能力，这点需要我们掌握一些定理，同时进行等式的推导；感觉搞这个以后也是有用的呢！听到一点，就积累一点好啦！</p>
<p>首当其冲的就是这个题目的名称，出题人取名字还是很友好的啦！虽然总是在黑人！</p>
<p><img src="/Users/mrs_empress/blog/source/_posts/2018-hdu-6-K.png" alt=""></p>
<p>其实本质上就是把n,m按进制p拆位一一组合数后乘起来。</p>
<p>其他知识点很小，暂且不解释了！</p>
<p>刚开始写完，爆空间了，于是就不先预处理inv数组了！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="comment">//题目要求的最大质数</span></div><div class="line"><span class="comment">//1299709+1e5+1</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1400000</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxx=<span class="number">1e5</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</div><div class="line">ll fac[maxn+<span class="number">10</span>];</div><div class="line"><span class="comment">//ll inv[maxn+10];</span></div><div class="line">ll p[maxn+<span class="number">100</span>],prime[maxn/<span class="number">5</span>];</div><div class="line">ll tot,c,n,k,ans,a;</div><div class="line"></div><div class="line"><span class="function">ll <span class="title">kpow</span><span class="params">(ll a,ll b)</span></span>&#123;</div><div class="line">    ll ans=<span class="number">1</span>,base=a;</div><div class="line">    <span class="keyword">while</span>(b)&#123;</div><div class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>) ans=ans*base%mod;</div><div class="line">        base=base*base%mod;</div><div class="line">        b&gt;&gt;=<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//扩展欧几里得</span></div><div class="line"><span class="function">ll <span class="title">extgcd</span><span class="params">(ll a,ll b,ll &amp;x,ll &amp;y)</span></span>&#123;</div><div class="line">    ll d=a;</div><div class="line">    <span class="keyword">if</span>(b!=<span class="number">0</span>)&#123;</div><div class="line">        d=extgcd(b,a%b,y,x);</div><div class="line">        y-=(a/b)*x;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> d;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//求逆元</span></div><div class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll a)</span></span>&#123;</div><div class="line">    ll x,y,d=extgcd(a,mod,x,y);</div><div class="line">    x=(x%mod+mod)%mod;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">    fac[<span class="number">0</span>]=fac[<span class="number">1</span>]=<span class="number">1</span>;</div><div class="line"><span class="comment">//    inv[0]=inv[1]=1;</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=maxn;i++)&#123;</div><div class="line">        fac[i]=fac[i<span class="number">-1</span>]*i%mod;</div><div class="line"><span class="comment">//        inv[i]=kpow(fac[i], mod-2)%mod;</span></div><div class="line"><span class="comment">//        inv[i]=1LL*(mod-mod/i)*inv[mod%i]%mod;</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//求质数，这个我好像很少用呢！不过这个是不是叫质数筛啊！zsp上课讲过呢！但是我忘记了哪节课了！</span></div><div class="line">    p[<span class="number">1</span>]=<span class="number">1</span>;tot=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=maxn;i++)&#123;</div><div class="line">        <span class="keyword">if</span>(!p[i])&#123;</div><div class="line">            p[i]=i;</div><div class="line">            prime[++tot]=i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=tot&amp;&amp;prime[j]*i&lt;=maxn;j++)&#123;</div><div class="line">            p[i*prime[j]]=prime[j];</div><div class="line">            <span class="keyword">if</span>(p[i]==prime[j]) <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="comment">//    cout&lt;&lt;prime[tot]&lt;&lt;endl;</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    init();</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span>,&amp;c,&amp;n,&amp;k);</div><div class="line">        ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)&#123;</div><div class="line">            a=fac[j+prime[c]]*inv(fac[prime[c]<span class="number">-1</span>])%mod*inv(fac[j+<span class="number">1</span>])%mod;</div><div class="line">            <span class="keyword">if</span>(a&lt;<span class="number">0</span>) a+=mod;</div><div class="line">            <span class="keyword">if</span>(a==<span class="number">1</span>) ans=(ans+n)%mod;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a&gt;<span class="number">0</span>)&#123;</div><div class="line">                <span class="comment">//刚开始这里是连在一起写的，发现分开写可以减少空间，但明明是多了变量呢！可能和内部有关吧！</span></div><div class="line">                ll e =(kpow(a, n)<span class="number">-1</span>);</div><div class="line">                ll d=kpow(a<span class="number">-1</span>, mod<span class="number">-2</span>);</div><div class="line">                e=e*d%mod;e=e*a%mod;</div><div class="line">                ans=(ans+e)%mod;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="L-Pinball"><a href="#L-Pinball" class="headerlink" title="L. Pinball"></a>L. Pinball</h3><p>物理忘光了，然后作业帮是害人的！</p>
<ul>
<li><p>模拟不会，因为不懂原理。所以理科不好的人，不该来到理工学院的！</p>
</li>
<li><p>不用一般坐标系，而是使用沿着斜面和垂直斜面（博博的思路很棒呢！只是没戴眼镜的我迷迷糊糊啊～什么都没听见</p>
<p>然后呢，x方向就是匀加速运动，y方向就是周期运动，画个图理解一下吧！</p>
<p>然后呢，这里有一个细节，感觉也是我物理会犯的错误，就是少了一条线段</p>
<p><img src="/Users/mrs_empress/blog/source/_posts/2018-hdu-6-L.png" alt="2018-hdu-6-L"></p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> g = <span class="number">9.8</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> EPS = <span class="number">1e-6</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span> (T--) &#123;</div><div class="line">        <span class="keyword">double</span> a, b, x, y;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>, &amp;a, &amp;b, &amp;x, &amp;y);</div><div class="line">        a *= <span class="number">-1</span>;</div><div class="line">        <span class="keyword">double</span> angle = <span class="built_in">atan</span>(b / -a);</div><div class="line">        <span class="keyword">double</span> ax = g * <span class="built_in">sin</span>(angle), ay = g * <span class="built_in">cos</span>(angle);</div><div class="line">        <span class="keyword">double</span> dy = y - b * x / a;</div><div class="line">        <span class="keyword">double</span> l = (-x)/<span class="built_in">cos</span>(angle)+dy*<span class="built_in">sin</span>(angle);</div><div class="line">        <span class="keyword">double</span> t = <span class="built_in">sqrt</span>(<span class="number">2</span>*l/ax);</div><div class="line">        <span class="keyword">double</span> h = dy * <span class="built_in">cos</span>(angle);</div><div class="line">        </div><div class="line">        <span class="keyword">double</span> ty = <span class="built_in">sqrt</span>(<span class="number">2</span>*h/ay);</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> ans=(t-ty)/(<span class="number">2</span>*ty)+<span class="number">1</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h1><p>2018.08.07 日 </p>
<p>当当当！</p>
<p>偷偷嘀咕一下，实验室里的聚聚们，好恐怖呀！</p>
<p>（幸好不熟 总有种遇到老师的感觉，哎！好像还是怕老师呢！</p>
<p>强大到让我无法吱声，（气场好可怕） 我还是对着我的小电脑，哼哧哼哧，补题吧！</p>
<p>幸好我近视，看不见他们，都是小南瓜！南瓜！</p>
<p>为什么学校的奶茶店都不关门呀！神奇！</p>
<p>2018.08.07 晚</p>
<p>唔……发现每场补的题好少啊！应该多学一点东西的，所以未完待续！果然，是累的，晚安！</p>
<p>2018.08.09 晚</p>
<p>西安的天气好可怕啊！每晚下雨就算了，能否温柔一些！</p>
<p>这风！这雨！感觉是因为今天提前走的原因呢！</p>
<p>刚补完cf的那套题，后面不想写了！对于选择语言的问题，踩了好多坑，果然自己会有很多细节不懂！继续补题啊！</p>
<p>补题！补题！补题！</p>
<p>2018.08.10 晚</p>
<p>我凡出新歌了，但我好像觉得不怎么好听</p>
<p>唔……我怕是真的是个假粉呢！</p>
<p>郁闷！</p>
<p>一只像知了那样会叫的超大的虫子被飞了进来，起因又是一个悲惨的故事：</p>
<blockquote>
<p>我的一盆小花花翘翘了，然后感觉像是被压死的，可是我没有压它呀！然后就可能是被闷死的，渴死的，缺少太阳死的！于是，我就想把它放出去。</p>
</blockquote>
<p>然后他就飞蛾扑火，一直乱叫，然后我也叫了，可是它叫的比我更恐怖！为了不被大晚上的吃掉，于是我决定，哼！大战虫子！</p>
<p>然后我就把灯光了，拿着所有的手电筒，结果它傻了，不来咬我！还找不到它在哪里；再开灯也没看到。于是乎，东抖抖，西抖抖；东敲敲，西敲敲；啊！出现了！</p>
<p>可是它又在灯那里乱叫；但是咋么办呢！打一下它，够不着；挥一下它，落荒而逃；</p>
<p>看到一扇窗户，打开窗，放入壁咚灯！</p>
<p>它还是很蠢！再次打它！窗户上！再打！出去了！</p>
<p>呼！cx大战虫子！胜！回合N次；时长 1小时！</p>
<p>所以我的花花回不了家了；希望明天太阳不要太大，不要刮风，下暴雨！</p>
<p>最后，百度上说，知了只是迷路了，它只能活一两个月，珍惜吧！</p>
<p>哎，累了！又是累累的一天！</p>
<p>晚安！</p>
<p>2018.08.11晚</p>
<p>嗝，吃多了！</p>
<p>记录一下，若是有长度为n的序列，如果LIS的长度为L的话，那么LDS的长度为（n/L）向下取整</p>
<p>因为我是小金鱼呀！</p>
<p>2018.08.12 早</p>
<p>早上不想起床了，留了一集小葡萄</p>
<p>唔，疲劳期，倦怠期，还有好多题目没有补</p>
<p>一场练习赛12题，补的题好多好多</p>
<p>10*12=120</p>
<p>每道题目，3个小时</p>
<p>120*3/12=30天（上午听聚聚讲课</p>
<p>一个星期除去多校4天</p>
<p>所以30/3=10个星期补完</p>
<p>加上lazy+TV 25个星期 6个月</p>
<p>唔……好吧！</p>
<p>好好补题</p>
<p>转载请注明出处，谢谢。<br><blockquote class="blockquote-center"><p>愿 我是你的小太阳</p>
</blockquote></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=2119781&auto=1&height=66"></iframe>

<!-- UY BEGIN -->
<p><div id="uyan_frame"></div></p>
<p><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2142537"></script><br><!-- UY END --></p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>买糖果去喽</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat.jpg" alt="Mrs_empress WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/多校/" rel="tag"># 多校</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/25/软考-数据库系统工程师-清单/" rel="next" title="软考--数据库系统工程师--清单">
                <i class="fa fa-chevron-left"></i> 软考--数据库系统工程师--清单
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/08/10/2018-Multi-University-Training-NOWCODER/" rel="prev" title="2018 Multi-University Training NOWCODER">
                2018 Multi-University Training NOWCODER <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/images/avatar.jpg"
              alt="Mrs_empress" />
          
            <p class="site-author-name" itemprop="name">Mrs_empress</p>
            <p class="site-description motion-element" itemprop="description">Hope be better and better, wish be happy and happy!</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives">
            
                <span class="site-state-item-count">54</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">26</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/mrsempress" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/3309079767?refer_flag=1001030001_&nick=Mrs_empress_阡沫昕&is_hot=1" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      微博
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://tobiaslee.top" title="TobiasLee" target="_blank">TobiasLee</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://abcml.xin/" title="ZeZe" target="_blank">ZeZe</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#2018-Multi-University-Training-hdu"><span class="nav-number">1.</span> <span class="nav-text">2018 Multi-University Training hdu</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Contest-1"><span class="nav-number">1.1.</span> <span class="nav-text">Contest 1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#A-Maximum-Multiple"><span class="nav-number">1.1.1.</span> <span class="nav-text">A. Maximum Multiple</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#B"><span class="nav-number">1.1.2.</span> <span class="nav-text">B.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-Triangle-Partition"><span class="nav-number">1.1.3.</span> <span class="nav-text">C.Triangle Partition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#D-Distinct-Values"><span class="nav-number">1.1.4.</span> <span class="nav-text">D. Distinct Values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#G-Chiaki-Sequence-Revisited"><span class="nav-number">1.1.5.</span> <span class="nav-text">G.Chiaki Sequence Revisited</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#K-Time-Zone"><span class="nav-number">1.1.6.</span> <span class="nav-text">K. Time Zone</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Contest-2"><span class="nav-number">1.2.</span> <span class="nav-text">Contest 2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#D-Game"><span class="nav-number">1.2.1.</span> <span class="nav-text">D. Game</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#E-Hack-It"><span class="nav-number">1.2.2.</span> <span class="nav-text">E. Hack It</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#G-Navie-Operations"><span class="nav-number">1.2.3.</span> <span class="nav-text">G. Navie Operations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#J-Swaps-and-Inversions"><span class="nav-number">1.2.4.</span> <span class="nav-text">J. Swaps and Inversions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Contest-5"><span class="nav-number">1.3.</span> <span class="nav-text">Contest 5</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#B-Beautiful-Now"><span class="nav-number">1.3.1.</span> <span class="nav-text">B. Beautiful Now</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#E-Everything-Has-Changed"><span class="nav-number">1.3.2.</span> <span class="nav-text">E. Everything Has Changed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#G-Glad-You-Came"><span class="nav-number">1.3.3.</span> <span class="nav-text">G. Glad You Came</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Contest-6"><span class="nav-number">1.4.</span> <span class="nav-text">Contest 6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#A-oval-and-rectangle"><span class="nav-number">1.4.1.</span> <span class="nav-text">A. oval-and-rectangle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#B-Bookshelf"><span class="nav-number">1.4.2.</span> <span class="nav-text">B. Bookshelf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-Ringland"><span class="nav-number">1.4.3.</span> <span class="nav-text">C. Ringland</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#D-Shoot-Game"><span class="nav-number">1.4.4.</span> <span class="nav-text">D. Shoot Game</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#I-Werewolf"><span class="nav-number">1.4.5.</span> <span class="nav-text">I. Werewolf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#K-Sacul"><span class="nav-number">1.4.6.</span> <span class="nav-text">K. Sacul</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#L-Pinball"><span class="nav-number">1.4.7.</span> <span class="nav-text">L. Pinball</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#碎碎念"><span class="nav-number">2.</span> <span class="nav-text">碎碎念</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mrs_empress</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("73XX9zwrQOBeD6S0LGJO26Ac-gzGzoHsz", "92PFBxqwUfTSuVqrflFGaf5G");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
